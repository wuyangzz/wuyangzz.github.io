<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>图片加噪声 | wuyangzz</title>
<meta name="keywords" content="噪声">
<meta name="description" content="图片加噪声 图像噪声分类 1.加性噪声 f(x,y)=g(x,y)&#43;n(x,y) 一般是图像传输信道噪声和CCD摄像机图像数字化过程中产生 2.乘性噪声 f(x,y)=g(x,y)*n(x,y) 一般由 胶片中颗粒 飞点扫描图像噪声 电视扫描光栅等原因造成 3.量化噪声 模拟到数字产生的差异 量化中的误差  图像噪声模型 1.高斯噪声 (Gaussian noise) 最广泛。传感器非正常环境下产生，电子电路中噪声。 高斯分布 2.脉冲噪声 (Impulsive noise) 双极脉冲：椒盐脉冲，尖峰噪声 散粒噪声 盐噪声：随机的白色像素点 胡椒噪声：随机黑色像素点 3.瑞利噪声 (Rayleigh noise) 4.伽马(爱尔兰)噪声 (Gamma noise) 5.指数噪声(Exponential noise) 6.均匀噪声(Uniform noise)  去噪效果评价算法 1.SNR [信噪比] 计算图像自身的信噪比 输入为一幅图片 2.PSNR [峰值信噪比] 计算两个图像之间的相似度 去噪后的图片和原图做比较 3.SSIM [结构相似性] 衡量两幅图像相似度  Code import numpy as np import copy import cv2 import random import skimage.metrics import matplotlib.pyplot as plt def GaussianNoise(srcImg,percent,sigma,means=0,greyscale=256): &#34;&#34;&#34; 为灰度图像添加 高斯噪声 :param srcImg: 源图像 :param percent: 噪声百分比 :param sigma: 高斯的标准差 :param means=0: 高斯的均值 默认为0 :param greyscale=256: 灰度图像的度 默认为256 &#34;&#34;&#34; (h,w)= srcImg.">
<meta name="author" content="wuyangzz">
<link rel="canonical" href="https://wuyangzz.github.io/2021/%E5%9B%BE%E7%89%87%E5%8A%A0%E5%99%AA%E5%A3%B0/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.abc7c82c3d415a6df50430738d1cbcc4c76fea558bc5a0c830d3babf78167a35.css" integrity="sha256-q8fILD1BWm31BDBzjRy8xMdv6lWLxaDIMNO6v3gWejU=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://wuyangzz.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://wuyangzz.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://wuyangzz.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://wuyangzz.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://wuyangzz.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="图片加噪声" />
<meta property="og:description" content="图片加噪声 图像噪声分类 1.加性噪声 f(x,y)=g(x,y)&#43;n(x,y) 一般是图像传输信道噪声和CCD摄像机图像数字化过程中产生 2.乘性噪声 f(x,y)=g(x,y)*n(x,y) 一般由 胶片中颗粒 飞点扫描图像噪声 电视扫描光栅等原因造成 3.量化噪声 模拟到数字产生的差异 量化中的误差  图像噪声模型 1.高斯噪声 (Gaussian noise) 最广泛。传感器非正常环境下产生，电子电路中噪声。 高斯分布 2.脉冲噪声 (Impulsive noise) 双极脉冲：椒盐脉冲，尖峰噪声 散粒噪声 盐噪声：随机的白色像素点 胡椒噪声：随机黑色像素点 3.瑞利噪声 (Rayleigh noise) 4.伽马(爱尔兰)噪声 (Gamma noise) 5.指数噪声(Exponential noise) 6.均匀噪声(Uniform noise)  去噪效果评价算法 1.SNR [信噪比] 计算图像自身的信噪比 输入为一幅图片 2.PSNR [峰值信噪比] 计算两个图像之间的相似度 去噪后的图片和原图做比较 3.SSIM [结构相似性] 衡量两幅图像相似度  Code import numpy as np import copy import cv2 import random import skimage.metrics import matplotlib.pyplot as plt def GaussianNoise(srcImg,percent,sigma,means=0,greyscale=256): &#34;&#34;&#34; 为灰度图像添加 高斯噪声 :param srcImg: 源图像 :param percent: 噪声百分比 :param sigma: 高斯的标准差 :param means=0: 高斯的均值 默认为0 :param greyscale=256: 灰度图像的度 默认为256 &#34;&#34;&#34; (h,w)= srcImg." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wuyangzz.github.io/2021/%E5%9B%BE%E7%89%87%E5%8A%A0%E5%99%AA%E5%A3%B0/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-03-26T16:55:05&#43;08:00" />
<meta property="article:modified_time" content="2021-03-26T16:55:05&#43;08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="图片加噪声"/>
<meta name="twitter:description" content="图片加噪声 图像噪声分类 1.加性噪声 f(x,y)=g(x,y)&#43;n(x,y) 一般是图像传输信道噪声和CCD摄像机图像数字化过程中产生 2.乘性噪声 f(x,y)=g(x,y)*n(x,y) 一般由 胶片中颗粒 飞点扫描图像噪声 电视扫描光栅等原因造成 3.量化噪声 模拟到数字产生的差异 量化中的误差  图像噪声模型 1.高斯噪声 (Gaussian noise) 最广泛。传感器非正常环境下产生，电子电路中噪声。 高斯分布 2.脉冲噪声 (Impulsive noise) 双极脉冲：椒盐脉冲，尖峰噪声 散粒噪声 盐噪声：随机的白色像素点 胡椒噪声：随机黑色像素点 3.瑞利噪声 (Rayleigh noise) 4.伽马(爱尔兰)噪声 (Gamma noise) 5.指数噪声(Exponential noise) 6.均匀噪声(Uniform noise)  去噪效果评价算法 1.SNR [信噪比] 计算图像自身的信噪比 输入为一幅图片 2.PSNR [峰值信噪比] 计算两个图像之间的相似度 去噪后的图片和原图做比较 3.SSIM [结构相似性] 衡量两幅图像相似度  Code import numpy as np import copy import cv2 import random import skimage.metrics import matplotlib.pyplot as plt def GaussianNoise(srcImg,percent,sigma,means=0,greyscale=256): &#34;&#34;&#34; 为灰度图像添加 高斯噪声 :param srcImg: 源图像 :param percent: 噪声百分比 :param sigma: 高斯的标准差 :param means=0: 高斯的均值 默认为0 :param greyscale=256: 灰度图像的度 默认为256 &#34;&#34;&#34; (h,w)= srcImg."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://wuyangzz.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "图片加噪声",
      "item": "https://wuyangzz.github.io/2021/%E5%9B%BE%E7%89%87%E5%8A%A0%E5%99%AA%E5%A3%B0/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "图片加噪声",
  "name": "图片加噪声",
  "description": "图片加噪声 图像噪声分类 1.加性噪声 f(x,y)=g(x,y)+n(x,y) 一般是图像传输信道噪声和CCD摄像机图像数字化过程中产生 2.乘性噪声 f(x,y)=g(x,y)*n(x,y) 一般由 胶片中颗粒 飞点扫描图像噪声 电视扫描光栅等原因造成 3.量化噪声 模拟到数字产生的差异 量化中的误差  图像噪声模型 1.高斯噪声 (Gaussian noise) 最广泛。传感器非正常环境下产生，电子电路中噪声。 高斯分布 2.脉冲噪声 (Impulsive noise) 双极脉冲：椒盐脉冲，尖峰噪声 散粒噪声 盐噪声：随机的白色像素点 胡椒噪声：随机黑色像素点 3.瑞利噪声 (Rayleigh noise) 4.伽马(爱尔兰)噪声 (Gamma noise) 5.指数噪声(Exponential noise) 6.均匀噪声(Uniform noise)  去噪效果评价算法 1.SNR [信噪比] 计算图像自身的信噪比 输入为一幅图片 2.PSNR [峰值信噪比] 计算两个图像之间的相似度 去噪后的图片和原图做比较 3.SSIM [结构相似性] 衡量两幅图像相似度  Code import numpy as np import copy import cv2 import random import skimage.metrics import matplotlib.pyplot as plt def GaussianNoise(srcImg,percent,sigma,means=0,greyscale=256): \u0026#34;\u0026#34;\u0026#34; 为灰度图像添加 高斯噪声 :param srcImg: 源图像 :param percent: 噪声百分比 :param sigma: 高斯的标准差 :param means=0: 高斯的均值 默认为0 :param greyscale=256: 灰度图像的度 默认为256 \u0026#34;\u0026#34;\u0026#34; (h,w)= srcImg.",
  "keywords": [
    "噪声"
  ],
  "articleBody": "图片加噪声 图像噪声分类 1.加性噪声 f(x,y)=g(x,y)+n(x,y) 一般是图像传输信道噪声和CCD摄像机图像数字化过程中产生 2.乘性噪声 f(x,y)=g(x,y)*n(x,y) 一般由 胶片中颗粒 飞点扫描图像噪声 电视扫描光栅等原因造成 3.量化噪声 模拟到数字产生的差异 量化中的误差  图像噪声模型 1.高斯噪声 (Gaussian noise) 最广泛。传感器非正常环境下产生，电子电路中噪声。 高斯分布 2.脉冲噪声 (Impulsive noise) 双极脉冲：椒盐脉冲，尖峰噪声 散粒噪声 盐噪声：随机的白色像素点 胡椒噪声：随机黑色像素点 3.瑞利噪声 (Rayleigh noise) 4.伽马(爱尔兰)噪声 (Gamma noise) 5.指数噪声(Exponential noise) 6.均匀噪声(Uniform noise)  去噪效果评价算法 1.SNR [信噪比] 计算图像自身的信噪比 输入为一幅图片 2.PSNR [峰值信噪比] 计算两个图像之间的相似度 去噪后的图片和原图做比较 3.SSIM [结构相似性] 衡量两幅图像相似度  Code import numpy as np import copy import cv2 import random import skimage.metrics import matplotlib.pyplot as plt def GaussianNoise(srcImg,percent,sigma,means=0,greyscale=256): \"\"\" 为灰度图像添加 高斯噪声 :param srcImg: 源图像 :param percent: 噪声百分比 :param sigma: 高斯的标准差 :param means=0: 高斯的均值 默认为0 :param greyscale=256: 灰度图像的度 默认为256 \"\"\" (h,w)= srcImg.shape #源图像的长宽 NoiseImg=copy.deepcopy(srcImg) #复制源图像 places=random.sample(range(h*w),int(percent*w*h)) #随机按照百分比选择噪声点位置 for place in places: x,y=place%w,place//w # 坐标 # f(x,y)=g(x,y)+n(x,y)  fxy=int(NoiseImg[x,y]+random.gauss(means,sigma)) # 范围修正 if fxy0: fxy=0 elif fxygreyscale-1: fxy=greyscale-1 NoiseImg[x,y]=fxy return NoiseImg def SaltPepperNoise(srcImg,percent,mode=\"BOTH\",greyscale=256): \"\"\" 对灰度图像添加椒盐噪声 :param srcImg: 源图片 :param percent: 百分比 :param mode=\"BOTH\": 模式：BOTH:椒盐模式 SALT:盐 PEPPRR 椒 :param greyscale=256: 灰度图像的度 默认为256 \"\"\" (h,w)= srcImg.shape #源图像的长宽 NoiseImg=copy.deepcopy(srcImg) #复制源图像 places=random.sample(range(h*w),int(percent*w*h)) #随机按照百分比选择噪声点位置 for place in places: x,y=place%w,place//w # 坐标 if mode==\"SALT\": #加盐 NoiseImg[x,y]=255 elif mode==\"PEPPER\": #加胡椒 NoiseImg[x,y]=0 else: # NoiseImg[x,y]=0 if random.random()0.5 else 255 return NoiseImg def RayleighNoise(srcImg,scale,percent,greyscale=256): \"\"\" 对灰度头像加上瑞利噪声 :param srcImg: 源图像 :param scale: 规模 :param percent:百分比 :param greyscale=256: 灰度图像的度 默认为256 \"\"\" (h,w)= srcImg.shape #源图像的长宽 NoiseImg=copy.deepcopy(srcImg) #复制源图像 places=random.sample(range(h*w),int(percent*w*h)) #位置 Rayleighs=np.random.rayleigh(scale,int(percent*w*h)) #瑞利噪声 for i in range(int(percent*w*h)): x,y=places[i]%w,places[i]//w # 坐标 fxy=NoiseImg[x,y]+int(Rayleighs[i]) #加上噪声 # 范围修正 if fxy0: fxy=0 elif fxygreyscale-1: fxy=greyscale-1 NoiseImg[x,y]=fxy return NoiseImg def GammaNoise(srcImg,k,theta,percent,greyscale=256): \"\"\" 为灰度图像添加伽马噪声 :param srcImg: 源图像 :param k: 伽马分布参数k :param theta: 伽马分布参数theta :param percent: 百分比 :param greyscale=256: 灰度图像的度 默认为256 \"\"\" (h,w)= srcImg.shape #源图像的长宽 NoiseImg=copy.deepcopy(srcImg) #复制源图像 places=random.sample(range(h*w),int(percent*w*h)) #位置 Gammas=np.random.gamma(k,theta,int(percent*w*h)) #伽马噪声 for i in range(int(percent*w*h)): x,y=places[i]%w,places[i]//w # 坐标 fxy=NoiseImg[x,y]+int(Gammas[i]) #加上噪声 # 范围修正 if fxy0: fxy=0 elif fxygreyscale-1: fxy=greyscale-1 NoiseImg[x,y]=fxy return NoiseImg def ExponentialNoise(srcImg,beta,percent,greyscale=256): \"\"\" 为灰度图像添加指数噪声 :param srcImg: 源图像 :param beta: 指数分布参数 :param percent: 百分比 :param greyscale=257: 灰度图像的度 默认为258 \"\"\" (h,w)= srcImg.shape #源图像的长宽 NoiseImg=copy.deepcopy(srcImg) #复制源图像 places=random.sample(range(h*w),int(percent*w*h)) #位置 Expons=np.random.exponential(beta,int(percent*w*h)) #指数噪声 for i in range(int(percent*w*h)): x,y=places[i]%w,places[i]//w # 坐标 fxy=NoiseImg[x,y]+int(Expons[i]) #加上噪声 # 范围修正 if fxy0: fxy=0 elif fxygreyscale-1: fxy=greyscale-1 NoiseImg[x,y]=fxy return NoiseImg def UniformNoise(srcImg,a,b,percent,greyscale=256): \"\"\" 为灰度图像添加均匀噪声 :param srcImg: 源图像 :param a: 均匀分布参数a low :param b: 均匀分布参数b high :param percent: 百分比 :param greyscale=256：灰度图像的度 默认为256 \"\"\" (h,w)= srcImg.shape #源图像的长宽 NoiseImg=copy.deepcopy(srcImg) #复制源图像 places=random.sample(range(h*w),int(percent*w*h)) #位置 unis=np.random.uniform(a,b,int(percent*w*h)) #均匀噪声 for i in range(int(percent*w*h)): x,y=places[i]%w,places[i]//w # 坐标 fxy=NoiseImg[x,y]+int(unis[i]) #加上噪声 # 范围修正 if fxy0: fxy=0 elif fxygreyscale-1: fxy=greyscale-1 NoiseImg[x,y]=fxy return NoiseImg def cal_SNR(img): \"\"\" 计算图像的SNR 使用方差法 :param img: \"\"\" snr=np.mean(img)/np.std(img) return snr def cal_PSNR(img,img_n): \"\"\" 计算图像的PSNR 使用skimage 自带的方法 :param img: 原始图像 :param img_n: 噪声图像 \"\"\" return skimage.metrics.peak_signal_noise_ratio(img, img_n, data_range=255) def cal_SSIM(img,img_n): \"\"\" 计算图像的SSIM 使用skimage 自带的方法 :param img: 原始图像 :param img_n: 噪声图像 \"\"\" return skimage.metrics.structural_similarity(img, img_n, data_range=255) if __name__ == \"__main__\": img=cv2.imread('lenna.bmp',0) # cv2.imshow(\"original\",img) #高斯噪声 g_per,means,sigma=1.0,0,50 gaussImg=GaussianNoise(img,g_per,sigma) cv2.imshow(\"guass\",gaussImg) cv2.imwrite(\"./image/GuassNoise_per{}_sigma{}_means{}_lenna.jpg\".format(g_per,sigma,means),gaussImg) #椒盐噪声 s_per,mode=0.08,\"BOTH\" spImg=SaltPepperNoise(img,s_per) cv2.imshow(\"SaltPepper\",spImg) cv2.imwrite(\"./image/SaltPepperNoise_per{}_mode{}_lenna.jpg\".format(s_per,mode),spImg) #瑞利噪声 scale,r_per=60,0.5 rayImg=RayleighNoise(img,scale,r_per) cv2.imshow(\"Rayleigh\",rayImg) cv2.imwrite(\"./image/RayleighNoise_per{}_scale{}_lenna.jpg\".format(r_per,scale),rayImg) #伽马噪声 k,theta,ga_per=30,4,0.5 gammaImg=GammaNoise(img,k,theta,ga_per) cv2.imshow(\"Gamma\",gammaImg) cv2.imwrite(\"./image/GammaNoise_k{}_theta{}_per{}_lenna.jpg\".format(k,theta,ga_per),gammaImg) #指数噪声 beta,e_per=50,0.5 expImg=ExponentialNoise(img,beta,e_per) cv2.imshow(\"Exponential\",expImg) cv2.imwrite(\"./image/Exponential_beta{}_per{}_lenna.jpg\".format(beta,e_per),expImg) # 均匀噪声 a,b,u_per=50,150,0.5 uniImg=UniformNoise(img,a,b,u_per) cv2.imshow(\"Uniform\",uniImg) cv2.imwrite(\"./image/UniformNoise_a{}_b{}_per{}_lenna.jpg\".format(a,b,u_per),uniImg) print(cal_SNR(img)) print(cal_SNR(gaussImg)) print(cal_PSNR(img,gaussImg)) print(cal_SSIM(img,gaussImg)) cv2.waitKey() fig, ax = plt.subplots(2,3,figsize = (40,30)) ax[0][0].imshow(gaussImg,cmap='gray') ax[0][0].set_title('高斯噪声',fontsize=40) ax[0][1].imshow(spImg,cmap='gray') ax[0][1].set_title('椒盐噪声',fontsize=40) ax[0][2].imshow(rayImg,cmap='gray') ax[0][2].set_title('瑞利噪声',fontsize=40) ax[1][0].imshow(gammaImg,cmap='gray') ax[1][0].set_title('伽马噪声',fontsize=40) ax[1][1].imshow(expImg,cmap='gray') ax[1][1].set_title('指数噪声',fontsize=40) ax[1][2].imshow(uniImg,cmap='gray') ax[1][2].set_title('均匀噪声',fontsize=40) 2.5921675411422913 1.882286386646585 14.599118975174203 0.13775556598303823  ",
  "wordCount" : "473",
  "inLanguage": "en",
  "datePublished": "2021-03-26T16:55:05+08:00",
  "dateModified": "2021-03-26T16:55:05+08:00",
  "author":{
    "@type": "Person",
    "name": "wuyangzz"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://wuyangzz.github.io/2021/%E5%9B%BE%E7%89%87%E5%8A%A0%E5%99%AA%E5%A3%B0/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "wuyangzz",
    "logo": {
      "@type": "ImageObject",
      "url": "https://wuyangzz.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://wuyangzz.github.io/" accesskey="h" title="wuyangzz (Alt + H)">wuyangzz</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://wuyangzz.github.io/posts/" title="博客">
                    <span>博客</span>
                </a>
            </li>
            <li>
                <a href="https://wuyangzz.github.io/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://wuyangzz.github.io/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://wuyangzz.github.io/about/" title="关于我">
                    <span>关于我</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      图片加噪声
    </h1>
    <div class="post-meta"><span title='2021-03-26 16:55:05 +0800 CST'>March 26, 2021</span>&nbsp;·&nbsp;wuyangzz

</div>
  </header> 
  <div class="post-content"><h1 id="图片加噪声">图片加噪声<a hidden class="anchor" aria-hidden="true" href="#图片加噪声">#</a></h1>
<h2 id="图像噪声分类">图像噪声分类<a hidden class="anchor" aria-hidden="true" href="#图像噪声分类">#</a></h2>
<pre><code>1.加性噪声  f(x,y)=g(x,y)+n(x,y) 
   一般是图像传输信道噪声和CCD摄像机图像数字化过程中产生
2.乘性噪声 f(x,y)=g(x,y)*n(x,y)
   一般由 胶片中颗粒 飞点扫描图像噪声 电视扫描光栅等原因造成
3.量化噪声
   模拟到数字产生的差异 量化中的误差
</code></pre>
<h2 id="图像噪声模型">图像噪声模型<a hidden class="anchor" aria-hidden="true" href="#图像噪声模型">#</a></h2>
<pre><code>1.高斯噪声 (Gaussian noise)
  最广泛。传感器非正常环境下产生，电子电路中噪声。 高斯分布
2.脉冲噪声 (Impulsive noise)
  双极脉冲：椒盐脉冲，尖峰噪声 散粒噪声 
          盐噪声：随机的白色像素点
          胡椒噪声：随机黑色像素点
3.瑞利噪声 (Rayleigh noise)
4.伽马(爱尔兰)噪声 (Gamma noise)
5.指数噪声(Exponential noise)
6.均匀噪声(Uniform noise)
</code></pre>
<h2 id="去噪效果评价算法">去噪效果评价算法<a hidden class="anchor" aria-hidden="true" href="#去噪效果评价算法">#</a></h2>
<pre><code>1.SNR  [信噪比] 计算图像自身的信噪比  输入为一幅图片
2.PSNR [峰值信噪比] 计算两个图像之间的相似度  去噪后的图片和原图做比较
3.SSIM [结构相似性] 衡量两幅图像相似度
</code></pre>
<h2 id="code">Code<a hidden class="anchor" aria-hidden="true" href="#code">#</a></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np
<span style="color:#f92672">import</span> copy
<span style="color:#f92672">import</span> cv2
<span style="color:#f92672">import</span> random
<span style="color:#f92672">import</span> skimage.metrics
<span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">GaussianNoise</span>(srcImg,percent,sigma,means<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>,greyscale<span style="color:#f92672">=</span><span style="color:#ae81ff">256</span>):   
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    为灰度图像添加 高斯噪声
</span><span style="color:#e6db74">        :param srcImg: 源图像
</span><span style="color:#e6db74">        :param percent: 噪声百分比
</span><span style="color:#e6db74">        :param sigma: 高斯的标准差
</span><span style="color:#e6db74">        :param means=0: 高斯的均值  默认为0
</span><span style="color:#e6db74">        :param greyscale=256: 灰度图像的度  默认为256
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    (h,w)<span style="color:#f92672">=</span> srcImg<span style="color:#f92672">.</span>shape     <span style="color:#75715e">#源图像的长宽</span>
    NoiseImg<span style="color:#f92672">=</span>copy<span style="color:#f92672">.</span>deepcopy(srcImg)           <span style="color:#75715e">#复制源图像</span>
    places<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>sample(range(h<span style="color:#f92672">*</span>w),int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))            <span style="color:#75715e">#随机按照百分比选择噪声点位置</span>

    <span style="color:#66d9ef">for</span> place <span style="color:#f92672">in</span> places:
        x,y<span style="color:#f92672">=</span>place<span style="color:#f92672">%</span>w,place<span style="color:#f92672">//</span>w <span style="color:#75715e"># 坐标</span>
        <span style="color:#75715e"># f(x,y)=g(x,y)+n(x,y) </span>
        fxy<span style="color:#f92672">=</span>int(NoiseImg[x,y]<span style="color:#f92672">+</span>random<span style="color:#f92672">.</span>gauss(means,sigma))
        <span style="color:#75715e"># 范围修正</span>
        <span style="color:#66d9ef">if</span> fxy<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>:
            fxy<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">elif</span> fxy<span style="color:#f92672">&gt;</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
            fxy<span style="color:#f92672">=</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        NoiseImg[x,y]<span style="color:#f92672">=</span>fxy
    <span style="color:#66d9ef">return</span> NoiseImg

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">SaltPepperNoise</span>(srcImg,percent,mode<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;BOTH&#34;</span>,greyscale<span style="color:#f92672">=</span><span style="color:#ae81ff">256</span>):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    对灰度图像添加椒盐噪声
</span><span style="color:#e6db74">        :param srcImg: 源图片
</span><span style="color:#e6db74">        :param percent: 百分比
</span><span style="color:#e6db74">        :param mode=&#34;BOTH&#34;: 模式：BOTH:椒盐模式  SALT:盐 PEPPRR 椒
</span><span style="color:#e6db74">        :param greyscale=256: 灰度图像的度  默认为256
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    (h,w)<span style="color:#f92672">=</span> srcImg<span style="color:#f92672">.</span>shape     <span style="color:#75715e">#源图像的长宽</span>
    NoiseImg<span style="color:#f92672">=</span>copy<span style="color:#f92672">.</span>deepcopy(srcImg)           <span style="color:#75715e">#复制源图像</span>
    places<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>sample(range(h<span style="color:#f92672">*</span>w),int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))            <span style="color:#75715e">#随机按照百分比选择噪声点位置</span>

    <span style="color:#66d9ef">for</span> place <span style="color:#f92672">in</span> places:
        x,y<span style="color:#f92672">=</span>place<span style="color:#f92672">%</span>w,place<span style="color:#f92672">//</span>w <span style="color:#75715e"># 坐标</span>
        <span style="color:#66d9ef">if</span> mode<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;SALT&#34;</span>:     <span style="color:#75715e">#加盐</span>
            NoiseImg[x,y]<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>
        <span style="color:#66d9ef">elif</span> mode<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;PEPPER&#34;</span>: <span style="color:#75715e">#加胡椒</span>
            NoiseImg[x,y]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">else</span>:                <span style="color:#75715e">#</span>
            NoiseImg[x,y]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> random<span style="color:#f92672">.</span>random()<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">0.5</span> <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">255</span>
    <span style="color:#66d9ef">return</span> NoiseImg

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">RayleighNoise</span>(srcImg,scale,percent,greyscale<span style="color:#f92672">=</span><span style="color:#ae81ff">256</span>):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    对灰度头像加上瑞利噪声
</span><span style="color:#e6db74">        :param srcImg: 源图像
</span><span style="color:#e6db74">        :param scale: 规模
</span><span style="color:#e6db74">        :param percent:百分比
</span><span style="color:#e6db74">        :param greyscale=256: 灰度图像的度  默认为256
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>

    (h,w)<span style="color:#f92672">=</span> srcImg<span style="color:#f92672">.</span>shape     <span style="color:#75715e">#源图像的长宽</span>
    NoiseImg<span style="color:#f92672">=</span>copy<span style="color:#f92672">.</span>deepcopy(srcImg)           <span style="color:#75715e">#复制源图像</span>

    places<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>sample(range(h<span style="color:#f92672">*</span>w),int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))    <span style="color:#75715e">#位置</span>
    Rayleighs<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rayleigh(scale,int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h)) <span style="color:#75715e">#瑞利噪声</span>

    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h)):
        x,y<span style="color:#f92672">=</span>places[i]<span style="color:#f92672">%</span>w,places[i]<span style="color:#f92672">//</span>w <span style="color:#75715e"># 坐标</span>
        fxy<span style="color:#f92672">=</span>NoiseImg[x,y]<span style="color:#f92672">+</span>int(Rayleighs[i]) <span style="color:#75715e">#加上噪声</span>
         <span style="color:#75715e"># 范围修正</span>
        <span style="color:#66d9ef">if</span> fxy<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>:
            fxy<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">elif</span> fxy<span style="color:#f92672">&gt;</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
            fxy<span style="color:#f92672">=</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        NoiseImg[x,y]<span style="color:#f92672">=</span>fxy
    <span style="color:#66d9ef">return</span> NoiseImg

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">GammaNoise</span>(srcImg,k,theta,percent,greyscale<span style="color:#f92672">=</span><span style="color:#ae81ff">256</span>):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    为灰度图像添加伽马噪声
</span><span style="color:#e6db74">        :param srcImg: 源图像
</span><span style="color:#e6db74">        :param k: 伽马分布参数k
</span><span style="color:#e6db74">        :param theta: 伽马分布参数theta
</span><span style="color:#e6db74">        :param percent: 百分比
</span><span style="color:#e6db74">        :param greyscale=256:  灰度图像的度  默认为256
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>

    (h,w)<span style="color:#f92672">=</span> srcImg<span style="color:#f92672">.</span>shape     <span style="color:#75715e">#源图像的长宽</span>
    NoiseImg<span style="color:#f92672">=</span>copy<span style="color:#f92672">.</span>deepcopy(srcImg)           <span style="color:#75715e">#复制源图像</span>

    places<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>sample(range(h<span style="color:#f92672">*</span>w),int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))    <span style="color:#75715e">#位置</span>
    Gammas<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>gamma(k,theta,int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h)) <span style="color:#75715e">#伽马噪声</span>

    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h)):
        x,y<span style="color:#f92672">=</span>places[i]<span style="color:#f92672">%</span>w,places[i]<span style="color:#f92672">//</span>w <span style="color:#75715e"># 坐标</span>
        fxy<span style="color:#f92672">=</span>NoiseImg[x,y]<span style="color:#f92672">+</span>int(Gammas[i]) <span style="color:#75715e">#加上噪声</span>
         <span style="color:#75715e"># 范围修正</span>
        <span style="color:#66d9ef">if</span> fxy<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>:
            fxy<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">elif</span> fxy<span style="color:#f92672">&gt;</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
            fxy<span style="color:#f92672">=</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        NoiseImg[x,y]<span style="color:#f92672">=</span>fxy
    <span style="color:#66d9ef">return</span> NoiseImg


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">ExponentialNoise</span>(srcImg,beta,percent,greyscale<span style="color:#f92672">=</span><span style="color:#ae81ff">256</span>):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    为灰度图像添加指数噪声
</span><span style="color:#e6db74">        :param srcImg: 源图像
</span><span style="color:#e6db74">        :param beta: 指数分布参数
</span><span style="color:#e6db74">        :param percent: 百分比
</span><span style="color:#e6db74">        :param greyscale=257:  灰度图像的度  默认为258
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>

    (h,w)<span style="color:#f92672">=</span> srcImg<span style="color:#f92672">.</span>shape     <span style="color:#75715e">#源图像的长宽</span>
    NoiseImg<span style="color:#f92672">=</span>copy<span style="color:#f92672">.</span>deepcopy(srcImg)           <span style="color:#75715e">#复制源图像</span>

    places<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>sample(range(h<span style="color:#f92672">*</span>w),int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))    <span style="color:#75715e">#位置</span>
    Expons<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>exponential(beta,int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))  <span style="color:#75715e">#指数噪声</span>

    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h)):
        x,y<span style="color:#f92672">=</span>places[i]<span style="color:#f92672">%</span>w,places[i]<span style="color:#f92672">//</span>w <span style="color:#75715e"># 坐标</span>
        fxy<span style="color:#f92672">=</span>NoiseImg[x,y]<span style="color:#f92672">+</span>int(Expons[i]) <span style="color:#75715e">#加上噪声</span>
         <span style="color:#75715e"># 范围修正</span>
        <span style="color:#66d9ef">if</span> fxy<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>:
            fxy<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">elif</span> fxy<span style="color:#f92672">&gt;</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
            fxy<span style="color:#f92672">=</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        NoiseImg[x,y]<span style="color:#f92672">=</span>fxy
    <span style="color:#66d9ef">return</span> NoiseImg

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">UniformNoise</span>(srcImg,a,b,percent,greyscale<span style="color:#f92672">=</span><span style="color:#ae81ff">256</span>):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    为灰度图像添加均匀噪声
</span><span style="color:#e6db74">        :param srcImg: 源图像  
</span><span style="color:#e6db74">        :param a: 均匀分布参数a  low
</span><span style="color:#e6db74">        :param b: 均匀分布参数b  high
</span><span style="color:#e6db74">        :param percent: 百分比
</span><span style="color:#e6db74">        :param greyscale=256：灰度图像的度  默认为256
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    (h,w)<span style="color:#f92672">=</span> srcImg<span style="color:#f92672">.</span>shape     <span style="color:#75715e">#源图像的长宽</span>
    NoiseImg<span style="color:#f92672">=</span>copy<span style="color:#f92672">.</span>deepcopy(srcImg)           <span style="color:#75715e">#复制源图像</span>

    places<span style="color:#f92672">=</span>random<span style="color:#f92672">.</span>sample(range(h<span style="color:#f92672">*</span>w),int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))    <span style="color:#75715e">#位置</span>
    unis<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>uniform(a,b,int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h))         <span style="color:#75715e">#均匀噪声</span>

    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(int(percent<span style="color:#f92672">*</span>w<span style="color:#f92672">*</span>h)):
        x,y<span style="color:#f92672">=</span>places[i]<span style="color:#f92672">%</span>w,places[i]<span style="color:#f92672">//</span>w <span style="color:#75715e"># 坐标</span>
        fxy<span style="color:#f92672">=</span>NoiseImg[x,y]<span style="color:#f92672">+</span>int(unis[i]) <span style="color:#75715e">#加上噪声</span>
         <span style="color:#75715e"># 范围修正</span>
        <span style="color:#66d9ef">if</span> fxy<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>:
            fxy<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
        <span style="color:#66d9ef">elif</span> fxy<span style="color:#f92672">&gt;</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:
            fxy<span style="color:#f92672">=</span>greyscale<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
        NoiseImg[x,y]<span style="color:#f92672">=</span>fxy
    <span style="color:#66d9ef">return</span> NoiseImg

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cal_SNR</span>(img):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    计算图像的SNR 使用方差法
</span><span style="color:#e6db74">        :param img: 
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    snr<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>mean(img)<span style="color:#f92672">/</span>np<span style="color:#f92672">.</span>std(img)

    <span style="color:#66d9ef">return</span> snr

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cal_PSNR</span>(img,img_n):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    计算图像的PSNR  使用skimage 自带的方法
</span><span style="color:#e6db74">        :param img: 原始图像
</span><span style="color:#e6db74">        :param img_n: 噪声图像
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    <span style="color:#66d9ef">return</span> skimage<span style="color:#f92672">.</span>metrics<span style="color:#f92672">.</span>peak_signal_noise_ratio(img, img_n, data_range<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">cal_SSIM</span>(img,img_n):
    <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">    计算图像的SSIM  使用skimage 自带的方法
</span><span style="color:#e6db74">        :param img: 原始图像
</span><span style="color:#e6db74">        :param img_n: 噪声图像
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    <span style="color:#66d9ef">return</span> skimage<span style="color:#f92672">.</span>metrics<span style="color:#f92672">.</span>structural_similarity(img, img_n, data_range<span style="color:#f92672">=</span><span style="color:#ae81ff">255</span>)

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    img<span style="color:#f92672">=</span>cv2<span style="color:#f92672">.</span>imread(<span style="color:#e6db74">&#39;lenna.bmp&#39;</span>,<span style="color:#ae81ff">0</span>) 
    <span style="color:#75715e"># cv2.imshow(&#34;original&#34;,img)</span>

    <span style="color:#75715e">#高斯噪声</span>
    g_per,means,sigma<span style="color:#f92672">=</span><span style="color:#ae81ff">1.0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">50</span>
    gaussImg<span style="color:#f92672">=</span>GaussianNoise(img,g_per,sigma)
    cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#34;guass&#34;</span>,gaussImg)
    cv2<span style="color:#f92672">.</span>imwrite(<span style="color:#e6db74">&#34;./image/GuassNoise_per{}_sigma{}_means{}_lenna.jpg&#34;</span><span style="color:#f92672">.</span>format(g_per,sigma,means),gaussImg)

    <span style="color:#75715e">#椒盐噪声</span>
    s_per,mode<span style="color:#f92672">=</span><span style="color:#ae81ff">0.08</span>,<span style="color:#e6db74">&#34;BOTH&#34;</span>
    spImg<span style="color:#f92672">=</span>SaltPepperNoise(img,s_per)
    cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#34;SaltPepper&#34;</span>,spImg)
    cv2<span style="color:#f92672">.</span>imwrite(<span style="color:#e6db74">&#34;./image/SaltPepperNoise_per{}_mode{}_lenna.jpg&#34;</span><span style="color:#f92672">.</span>format(s_per,mode),spImg)

    <span style="color:#75715e">#瑞利噪声</span>
    scale,r_per<span style="color:#f92672">=</span><span style="color:#ae81ff">60</span>,<span style="color:#ae81ff">0.5</span>
    rayImg<span style="color:#f92672">=</span>RayleighNoise(img,scale,r_per)
    cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#34;Rayleigh&#34;</span>,rayImg)
    cv2<span style="color:#f92672">.</span>imwrite(<span style="color:#e6db74">&#34;./image/RayleighNoise_per{}_scale{}_lenna.jpg&#34;</span><span style="color:#f92672">.</span>format(r_per,scale),rayImg)

    <span style="color:#75715e">#伽马噪声</span>
    k,theta,ga_per<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">0.5</span>
    gammaImg<span style="color:#f92672">=</span>GammaNoise(img,k,theta,ga_per)
    cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#34;Gamma&#34;</span>,gammaImg)
    cv2<span style="color:#f92672">.</span>imwrite(<span style="color:#e6db74">&#34;./image/GammaNoise_k{}_theta{}_per{}_lenna.jpg&#34;</span><span style="color:#f92672">.</span>format(k,theta,ga_per),gammaImg)

    <span style="color:#75715e">#指数噪声</span>
    beta,e_per<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>,<span style="color:#ae81ff">0.5</span>
    expImg<span style="color:#f92672">=</span>ExponentialNoise(img,beta,e_per)
    cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#34;Exponential&#34;</span>,expImg)
    cv2<span style="color:#f92672">.</span>imwrite(<span style="color:#e6db74">&#34;./image/Exponential_beta{}_per{}_lenna.jpg&#34;</span><span style="color:#f92672">.</span>format(beta,e_per),expImg)

   <span style="color:#75715e"># 均匀噪声</span>
    a,b,u_per<span style="color:#f92672">=</span><span style="color:#ae81ff">50</span>,<span style="color:#ae81ff">150</span>,<span style="color:#ae81ff">0.5</span>
    uniImg<span style="color:#f92672">=</span>UniformNoise(img,a,b,u_per)
    cv2<span style="color:#f92672">.</span>imshow(<span style="color:#e6db74">&#34;Uniform&#34;</span>,uniImg)
    cv2<span style="color:#f92672">.</span>imwrite(<span style="color:#e6db74">&#34;./image/UniformNoise_a{}_b{}_per{}_lenna.jpg&#34;</span><span style="color:#f92672">.</span>format(a,b,u_per),uniImg)
    <span style="color:#66d9ef">print</span>(cal_SNR(img))
    <span style="color:#66d9ef">print</span>(cal_SNR(gaussImg))
    <span style="color:#66d9ef">print</span>(cal_PSNR(img,gaussImg))
    <span style="color:#66d9ef">print</span>(cal_SSIM(img,gaussImg))
    cv2<span style="color:#f92672">.</span>waitKey()
    fig, ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,figsize <span style="color:#f92672">=</span> (<span style="color:#ae81ff">40</span>,<span style="color:#ae81ff">30</span>))
    ax[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>imshow(gaussImg,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gray&#39;</span>)
    ax[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;高斯噪声&#39;</span>,fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">40</span>) 
    ax[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>imshow(spImg,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gray&#39;</span>)
    ax[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;椒盐噪声&#39;</span>,fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">40</span>) 
    ax[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>imshow(rayImg,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gray&#39;</span>)
    ax[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;瑞利噪声&#39;</span>,fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">40</span>) 
    ax[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>imshow(gammaImg,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gray&#39;</span>)
    ax[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;伽马噪声&#39;</span>,fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">40</span>) 
    ax[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>imshow(expImg,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gray&#39;</span>)
    ax[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;指数噪声&#39;</span>,fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">40</span>) 
    ax[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>imshow(uniImg,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gray&#39;</span>)
    ax[<span style="color:#ae81ff">1</span>][<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;均匀噪声&#39;</span>,fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">40</span>) 


</code></pre></div><pre><code>2.5921675411422913
1.882286386646585
14.599118975174203
0.13775556598303823
</code></pre>
<p><img loading="lazy" src="https://raw.githubusercontent.com/wuyangzz/blog_image/main/output_3_1.png" alt="output_3_1"  />
</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://wuyangzz.github.io/tags/%E5%99%AA%E5%A3%B0/">噪声</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://wuyangzz.github.io/">wuyangzz</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
